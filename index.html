<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Crime Map of England and Wales</title>
    <meta
      name="description"
      content="Interactive crime map of England and Wales. Search by postcode or click on the map to see recent crime data from police records." />
    <meta
      name="keywords"
      content="crime map, UK crime map, England crime data, Wales crime data, postcode crime search, police crime map, interactive crime map, UK crime statistics, map of crimes, UK police data" />
    <!-- Link to Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin="" />
    <!-- Link to custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css" />
    <!--Links for favicon-->
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/favicon/apple-touch-icon.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/favicon/favicon-32x32.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/favicon/favicon-16x16.png" />
    <link rel="manifest" href="assets/favicon/site.webmanifest" />
  </head>

  <body>
    <main>
      <header>
        <div id="header-container">
          <h1 id="title">
            <span class="full-title">Crime Map of England and Wales</span>
            <span class="mobile-title">Crime Map</span>
          </h1>
          <button
            id="help-button"
            type="button"
            aria-label="Open help information">
            How to use this Map
          </button>
        </div>
      </header>
      <!--Help Modal-->
      <div
        id="help-modal"
        class="modal"
        role="dialog"
        aria-labelledby="modal-heading"
        aria-describedby="modal-content"
        aria-modal="true"
        hidden>
        <div class="modal-content">
          <button
            class="close"
            type="button"
            aria-label="Close help dialog"
            title="Close">
            &times;
          </button>

          <h2 id="modal-heading" class="modal-heading">
            How to Use the Crime Map
          </h2>
          <div id="modal-content">
            <p class="modal-paragraph">
              This interactive map shows recent crime data for England and
              Wales.
            </p>
            <h3>How to explore crime data:</h3>
            <ul>
              <li>Click anywhere on the map to view crimes in that area</li>
              <li>Search for a specific postcode using the search box</li>
              <li>Use the dropdown to filter crimes by type</li>
              <li>
                Click on crimes in the list to see their location on the map
              </li>
              <li>
                Use the reload button to refresh data for the current view
              </li>
            </ul>
            <p class="modal-paragraph">
              Crime data is sourced from the UK Police API and shows the last 3
              months of reported crimes. The map updates automatically when new
              data is available. The date of the last update is shown in the
              sidebar.
            </p>
          </div>
        </div>
      </div>

      <div id="main-container">
        <div id="sidebar-container">
          <div id="sidebar">
            <div id="search-container">
              <h2 class="sub-heading">Search for a Location</h2>
              <input
                type="text"
                id="postcode-search"
                placeholder="Enter a postcode..."
                aria-label="Enter a postcode" />
              <button id="search-button">Search</button>
            </div>
            <div id="crimes-percentage">
              <h2 class="sub-heading">Most Common Crimes for this Area</h2>
              <ul id="highest-crimes-list">
                <li>
                  Click on the map or search for a postcode to view crime data
                </li>
              </ul>
            </div>

            <h2 class="sub-heading">Different Crimes in Your Area</h2>
            <div id="dropdown">
              <label for="crime-type">Crime Categories:</label>
              <select id="crime-type">
                <option value="all">All Crimes</option>
              </select>
            </div>

            <h2 class="sub-heading">Crimes in This Area</h2>
            <div id="crime-list">
              <ul class="crime-items">
                <li tabindex="0">
                  No crimes loaded yet. Click on the map or search for a
                  location.
                </li>
              </ul>
            </div>

            <div id="info">
              <p>
                Data is from the last 3 months, updated when the Police release
                new data. The most recent update is from
                <span id="last-date"></span>
              </p>
            </div>
          </div>
        </div>

        <div id="map-container" aria-disabled="true">
          <div
            id="map"
            role="application"
            aria-label="Interactive Crime Map of England and Wales"
            tabindex="0"></div>
          <button id="reload-button">Reload Crimes in View</button>
        </div>
      </div>
    </main>
    <div id="error-message">
      <p>There was an error loading the crime data. Please try again later.</p>
    </div>

    <!-- Link to Leaflet JavaScript -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""></script>
    <!-- Link to custom JavaScript -->
    <script src="assets/js/script.js" defer></script>
  </body>
</html>
